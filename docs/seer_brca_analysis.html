<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Francesc Castro-Giner" />

<meta name="date" content="2025-02-06" />

<title>SEER data analysis for breast cancer cases</title>

<script src="site_libs/header-attrs-2.25/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<link rel="icon" href="https://github.com/workflowr/workflowr-assets/raw/main/img/reproducible.png">
<!-- Add a small amount of space between sections. -->
<style type="text/css">
div.section {
  padding-top: 12px;
}
</style>



<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">met-paths</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="license.html">License</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/TheAcetoLab/sznurkowska-met-paths">
    <span class="fab fa-github"></span>
     
    Source code
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">SEER data analysis for breast cancer
cases</h1>
<h4 class="author">Francesc Castro-Giner</h4>
<h4 class="date">February 06, 2025</h4>

</div>


<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-report" data-toggle="collapse" data-target="#workflowr-report">
<span class="glyphicon glyphicon-list" aria-hidden="true"></span>
workflowr <span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span>
</button>
</p>
<div id="workflowr-report" class="collapse">
<ul class="nav nav-tabs">
<li class="active">
<a data-toggle="tab" href="#summary">Summary</a>
</li>
<li>
<a data-toggle="tab" href="#checks"> Checks <span
class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
</a>
</li>
<li>
<a data-toggle="tab" href="#versions">Past versions</a>
</li>
</ul>
<div class="tab-content">
<div id="summary" class="tab-pane fade in active">
<p>
<strong>Last updated:</strong> 2025-02-06
</p>
<p>
<strong>Checks:</strong> <span
class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span> 7
<span class="glyphicon glyphicon-exclamation-sign text-danger"
aria-hidden="true"></span> 0
</p>
<p>
<strong>Knit directory:</strong> <code>sznurkowska-met-paths/</code>
<span class="glyphicon glyphicon-question-sign" aria-hidden="true"
title="This is the local directory in which the code in this file was executed.">
</span>
</p>
<p>
This reproducible <a href="https://rmarkdown.rstudio.com">R Markdown</a>
analysis was created with <a
  href="https://github.com/workflowr/workflowr">workflowr</a> (version
1.7.1). The <em>Checks</em> tab describes the reproducibility checks
that were applied when the results were created. The <em>Past
versions</em> tab lists the development history.
</p>
<hr>
</div>
<div id="checks" class="tab-pane fade">
<div id="workflowr-checks" class="panel-group">
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRMarkdownfilestronguptodate">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>R Markdown file:</strong> up-to-date
</a>
</p>
</div>
<div id="strongRMarkdownfilestronguptodate"
class="panel-collapse collapse">
<div class="panel-body">
<p>Great! Since the R Markdown file has been committed to the Git
repository, you know the exact version of the code that produced these
results.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongEnvironmentstrongempty">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Environment:</strong> empty </a>
</p>
</div>
<div id="strongEnvironmentstrongempty" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! The global environment was empty. Objects defined in the
global environment can affect the analysis in your R Markdown file in
unknown ways. For reproduciblity it’s best to always run the code in an
empty environment.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSeedstrongcodesetseed20250206code">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Seed:</strong>
<code>set.seed(20250206)</code> </a>
</p>
</div>
<div id="strongSeedstrongcodesetseed20250206code"
class="panel-collapse collapse">
<div class="panel-body">
<p>The command <code>set.seed(20250206)</code> was run prior to running
the code in the R Markdown file. Setting a seed ensures that any results
that rely on randomness, e.g. subsampling or permutations, are
reproducible.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongSessioninformationstrongrecorded">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Session information:</strong>
recorded </a>
</p>
</div>
<div id="strongSessioninformationstrongrecorded"
class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Recording the operating system, R version, and package
versions is critical for reproducibility.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongCachestrongnone">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Cache:</strong> none </a>
</p>
</div>
<div id="strongCachestrongnone" class="panel-collapse collapse">
<div class="panel-body">
<p>Nice! There were no cached chunks for this analysis, so you can be
confident that you successfully produced the results during this
run.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongFilepathsstrongrelative">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>File paths:</strong> relative </a>
</p>
</div>
<div id="strongFilepathsstrongrelative" class="panel-collapse collapse">
<div class="panel-body">
<p>Great job! Using relative paths to the files within your workflowr
project makes it easier to run your code on other machines.</p>
</div>
</div>
</div>
<div class="panel panel-default">
<div class="panel-heading">
<p class="panel-title">
<a data-toggle="collapse" data-parent="#workflowr-checks" href="#strongRepositoryversionstrongahrefhttpsgithubcomTheAcetoLabsznurkowskametpathstree7ef3b882220616c6d09e07800565b271dfd90787targetblank7ef3b88a">
<span class="glyphicon glyphicon-ok text-success"
aria-hidden="true"></span> <strong>Repository version:</strong>
<a href="https://github.com/TheAcetoLab/sznurkowska-met-paths/tree/7ef3b882220616c6d09e07800565b271dfd90787" target="_blank">7ef3b88</a>
</a>
</p>
</div>
<div
id="strongRepositoryversionstrongahrefhttpsgithubcomTheAcetoLabsznurkowskametpathstree7ef3b882220616c6d09e07800565b271dfd90787targetblank7ef3b88a"
class="panel-collapse collapse">
<div class="panel-body">
<p>
Great! You are using Git for version control. Tracking code development
and connecting the code version to the results is critical for
reproducibility.
</p>
<p>
The results in this page were generated with repository version
<a href="https://github.com/TheAcetoLab/sznurkowska-met-paths/tree/7ef3b882220616c6d09e07800565b271dfd90787" target="_blank">7ef3b88</a>.
See the <em>Past versions</em> tab to see a history of the changes made
to the R Markdown and HTML files.
</p>
<p>
Note that you need to be careful to ensure that all relevant files for
the analysis have been committed to Git prior to generating the results
(you can use <code>wflow_publish</code> or
<code>wflow_git_commit</code>). workflowr only checks the R Markdown
file, but you know if there are other scripts or data files that it
depends on. Below is the status of the Git repository when the results
were generated:
</p>
<pre><code>
Ignored files:
    Ignored:    .Rhistory
    Ignored:    .Rproj.user/
    Ignored:    data/patients/
    Ignored:    data/seer/

Untracked files:
    Untracked:  code/R-functions/
    Untracked:  configuration/
    Untracked:  workflowr_update.R

Unstaged changes:
    Modified:   .gitignore
    Modified:   sznurkowska-met-paths.Rproj

</code></pre>
<p>
Note that any generated files, e.g. HTML, png, CSS, etc., are not
included in this status report because it is ok for generated content to
have uncommitted changes.
</p>
</div>
</div>
</div>
</div>
<hr>
</div>
<div id="versions" class="tab-pane fade">
<p>
These are the previous versions of the repository in which changes were
made to the R Markdown (<code>analysis/seer_brca_analysis.Rmd</code>)
and HTML (<code>docs/seer_brca_analysis.html</code>) files. If you’ve
configured a remote Git repository (see <code>?wflow_git_remote</code>),
click on the hyperlinks in the table below to view the files as they
were in that past version.
</p>
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
File
</th>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
<th>
Message
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
Rmd
</td>
<td>
<a href="https://github.com/TheAcetoLab/sznurkowska-met-paths/blob/7ef3b882220616c6d09e07800565b271dfd90787/analysis/seer_brca_analysis.Rmd" target="_blank">7ef3b88</a>
</td>
<td>
Francesc Castro-Giner
</td>
<td>
2025-02-06
</td>
<td>
Add patients analysis
</td>
</tr>
</tbody>
</table>
</div>
<hr>
</div>
</div>
</div>
<div id="load-libraries-additional-functions-and-data"
class="section level2" number="1">
<h2><span class="header-section-number">1</span> Load libraries,
additional functions and data</h2>
<p>Setup environment</p>
<pre class="r"><code>knitr::opts_chunk$set(results=&#39;asis&#39;, echo=TRUE, message=FALSE, warning=FALSE, error=FALSE, fig.align = &#39;center&#39;, fig.width = 3.5, fig.asp = 0.618, dpi = 600, dev = c(&quot;png&quot;, &quot;pdf&quot;), fig.showtext = FALSE, engine.opts = list(bash = &quot;-l&quot;))

options(stringsAsFactors = FALSE)</code></pre>
<!-- Setup css style -->
<!-- ```{css style settings, echo = FALSE} -->
<!-- blockquote { -->
<!--     padding: 10px 20px; -->
<!--     margin: 0 0 20px; -->
<!--     font-size: 14px; -->
<!--     border-left: 5px solid #eee; -->
<!-- } -->
<!-- ``` -->
<p>Load packages</p>
<pre class="r"><code>library(tidyverse)
library(showtext)
library(foreach)
# library(DT)
library(knitr)
library(kableExtra)
library(arsenal)
library(janitor)
# library(cowplot)
library(colorblindr)

library(survival)
library(ggsurvfit)
library(ggbeeswarm)
library(ggpubr)
# library(openxlsx)
# 
# library(org.Mm.eg.db)
# library(org.Hs.eg.db)
# library(ComplexHeatmap)
# library(circlize)
# library(ggbeeswarm)
# library(arsenal)
# library(RColorBrewer)
# library(ggpubr)
# library(pheatmap)
# library(patchwork)
# library(ggrepel)
# library(openxlsx)</code></pre>
<p>Set font family for figures</p>
<pre class="r"><code>font_add(&quot;Helvetica&quot;, &quot;./configuration/fonts/Helvetica.ttc&quot;)
showtext_auto()</code></pre>
<p>Load ggplot theme</p>
<pre class="r"><code>source(&quot;./configuration/rmarkdown/ggplot_theme.R&quot;)</code></pre>
<p>Load palettes</p>
<pre class="r"><code>source(&quot;./configuration/rmarkdown/color_palettes.R&quot;)</code></pre>
</div>
<div id="data-processing" class="section level2" number="2">
<h2><span class="header-section-number">2</span> Data processing</h2>
<p>Load data from patients with metastasis at dx and for patients with
subsequent records after primary breast diagnosis.</p>
<pre class="r"><code>data_met_dx &lt;- read_csv(file.path(params$data_dir, &#39;seerstat_met_at_dx.csv&#39;))
data_sub_rec &lt;- read_csv(file.path(params$data_dir, &#39;seerstat_subsequent_records.csv&#39;))

data_colnames_o &lt;- colnames(data_met_dx)

data_met_dx &lt;- clean_names(data_met_dx)
data_sub_rec &lt;- clean_names(data_sub_rec)

names(data_colnames_o) &lt;- colnames(data_met_dx)</code></pre>
<p>Data wrangling for mets at dx</p>
<pre class="r"><code># Number of metastases at known sites
data_met_dx$seer_combined_mets_at_dx_sum &lt;- data_met_dx %&gt;% 
  mutate(
    seer_combined_mets_at_dx_bone_2010 = ifelse(seer_combined_mets_at_dx_bone_2010 == &#39;Yes&#39;, 1, 0),
    seer_combined_mets_at_dx_brain_2010 = ifelse(seer_combined_mets_at_dx_brain_2010 == &#39;Yes&#39;, 1, 0),
    seer_combined_mets_at_dx_liver_2010 = ifelse(seer_combined_mets_at_dx_liver_2010 == &#39;Yes&#39;, 1, 0),
    seer_combined_mets_at_dx_lung_2010 = ifelse(seer_combined_mets_at_dx_lung_2010 == &#39;Yes&#39;, 1, 0)
  ) %&gt;% 
  dplyr::select(starts_with(&quot;seer_combined_mets_at&quot;)) %&gt;% 
  rowSums()
  


data_met_dx &lt;- data_met_dx %&gt;% 
  mutate(
    # Re-class variables
    survival_months = ifelse(survival_months == &#39;Unknown&#39;, NA, survival_months),
    survival_months = as.numeric(survival_months),
    survival_days = 30*survival_months,
    total_number_of_in_situ_malignant_tumors_for_patient = as.numeric(total_number_of_in_situ_malignant_tumors_for_patient),
    record_number_recode = as.numeric(record_number_recode),
    # Site of metastasis
    seer_combined_mets_at_dx = ifelse(seer_combined_mets_at_dx_sum == 0, &#39;Other&#39;, NA),
    seer_combined_mets_at_dx = ifelse(seer_combined_mets_at_dx_sum &gt; 1, &#39;Multiple&#39;, seer_combined_mets_at_dx),
    seer_combined_mets_at_dx = ifelse(seer_combined_mets_at_dx_bone_2010 == &#39;Yes&#39; &amp; seer_combined_mets_at_dx_sum == 1, &#39;Bone&#39;, seer_combined_mets_at_dx),
    seer_combined_mets_at_dx = ifelse(seer_combined_mets_at_dx_brain_2010 == &#39;Yes&#39; &amp; seer_combined_mets_at_dx_sum == 1, &#39;Brain&#39;, seer_combined_mets_at_dx),
    seer_combined_mets_at_dx = ifelse(seer_combined_mets_at_dx_liver_2010 == &#39;Yes&#39; &amp; seer_combined_mets_at_dx_sum == 1, &#39;Liver&#39;, seer_combined_mets_at_dx),
    seer_combined_mets_at_dx = ifelse(seer_combined_mets_at_dx_lung_2010 == &#39;Yes&#39; &amp; seer_combined_mets_at_dx_sum == 1, &#39;Lung&#39;, seer_combined_mets_at_dx),
    # Other new variables
    patient_id_record = paste(patient_id, record_number_recode, sep = &quot;_&quot;)
  )</code></pre>
<p>Data wrangling for subsequent records after primary breast
diagnosis</p>
<pre class="r"><code>data_sub_rec &lt;- data_sub_rec %&gt;% 
  mutate(
    # Re-class variables
    survival_months = ifelse(survival_months == &#39;Unknown&#39;, NA, survival_months),
    survival_months = as.numeric(survival_months),
    total_number_of_in_situ_malignant_tumors_for_patient = as.numeric(total_number_of_in_situ_malignant_tumors_for_patient),
    record_number_recode = as.numeric(record_number_recode),
    # Other new variables
    patient_id_record = paste(patient_id, record_number_recode, sep = &quot;_&quot;)
  )</code></pre>
<p>Add data to next diagnosis for patients with mets at dx</p>
<pre class="r"><code>next_pidr &lt;- paste(data_met_dx$patient_id, 1+data_met_dx$record_number_recode, sep = &quot;_&quot;)

next_info &lt;- data_sub_rec %&gt;% 
  filter(patient_id_record %in% next_pidr) %&gt;% 
  filter(site_recode_icd_o_3_who_2008 != &#39;Breast&#39;) %&gt;% 
  dplyr::select(
    patient_id,
    patient_id_record, record_number_recode,
    year_of_diagnosis, 
    site_recode_icd_o_3_who_2008, survival_months, cod_to_site_recode, 
    cod_to_site_rec_km, seer_cause_specific_death_classification, 
    seer_other_cause_of_death_classification, vital_status_recode_study_cutoff_used, 
    patient_id_record) %&gt;% 
  rename_with(., function(x) paste0(&#39;next_&#39;, x)) %&gt;% 
  dplyr::rename(patient_id = next_patient_id) %&gt;% 
  mutate(prev_patient_id_record = paste(patient_id, next_record_number_recode - 1, sep = &quot;_&quot;)) %&gt;% 
  left_join(
    data_met_dx %&gt;% 
      dplyr::select(patient_id, year_of_diagnosis, seer_combined_mets_at_dx) %&gt;% 
      rename(prev_year_of_diagnosis = year_of_diagnosis)
    ) %&gt;% 
  mutate(
    years_to_next_diagnosis = next_year_of_diagnosis - prev_year_of_diagnosis,
    next_site = ifelse(next_site_recode_icd_o_3_who_2008 == &#39;Lung and Bronchus&#39;, &#39;Lung&#39;, &#39;Other&#39;),
    next_site = ifelse(next_site_recode_icd_o_3_who_2008 == &#39;Kidney and Renal Pelvis&#39;, &#39;Kidney&#39;, next_site),
    next_site = ifelse(next_site_recode_icd_o_3_who_2008 == &#39;Brain&#39;, &#39;Brain&#39;, next_site),
    next_site = ifelse(next_site_recode_icd_o_3_who_2008 == &#39;Bones and Joints&#39;, &#39;Bone&#39;, next_site),
    next_site = ifelse(next_site_recode_icd_o_3_who_2008 == &#39;Liver&#39;, &#39;Liver&#39;, next_site),
    next_site = ifelse(next_site_recode_icd_o_3_who_2008 == &#39;Intrahepatic Bile Duct&#39;, &#39;Liver&#39;, next_site)
  ) %&gt;% 
  dplyr::select(-prev_year_of_diagnosis)

# Remove if next diagnosis happens 5 years after breast diagnosis
next_info &lt;- next_info %&gt;% 
  filter(years_to_next_diagnosis &lt;= 5 &amp;
           next_site != seer_combined_mets_at_dx)

# Join datasets
data_met_dx &lt;- left_join(data_met_dx, next_info) %&gt;% 
  mutate(
    next_diagnosis = ifelse(is.na(next_patient_id_record), &#39;No&#39;, &#39;Yes&#39;),
    next_event = ifelse(next_diagnosis == &#39;Yes&#39;, &#39;New malignancy&#39;, &#39;None&#39;),
    next_event = ifelse(next_event == &#39;None&#39; &amp; vital_status_recode_study_cutoff_used == &#39;Dead&#39;, &#39;Death&#39;, next_event)
  )

# Re-value site
data_met_dx &lt;- data_met_dx %&gt;% 
  mutate(
    next_site = ifelse(next_site_recode_icd_o_3_who_2008 == &#39;Lung and Bronchus&#39;, &#39;Lung&#39;, &#39;Other&#39;),
    next_site = ifelse(next_site_recode_icd_o_3_who_2008 == &#39;Kidney and Renal Pelvis&#39;, &#39;Kidney&#39;, next_site),
    next_site = ifelse(next_site_recode_icd_o_3_who_2008 == &#39;Brain&#39;, &#39;Brain&#39;, next_site),
    next_site = ifelse(next_site_recode_icd_o_3_who_2008 == &#39;Bones and Joints&#39;, &#39;Bone&#39;, next_site),
    next_site = ifelse(next_site_recode_icd_o_3_who_2008 == &#39;Liver&#39;, &#39;Liver&#39;, next_site),
    next_site = ifelse(next_site_recode_icd_o_3_who_2008 == &#39;Intrahepatic Bile Duct&#39;, &#39;Liver&#39;, next_site)
  )</code></pre>
<p>Process data for non-metastatic patients with subsequent records</p>
<pre class="r"><code># Select breast non-metastatic primaries
data_m0 &lt;- data_sub_rec %&gt;% 
  filter(first_malignant_primary_indicator == &#39;Yes&#39;) %&gt;% 
  filter(site_recode_icd_o_3_who_2008 == &#39;Breast&#39;) %&gt;% 
  filter(
    grepl(&quot;^M0&quot;, derived_ajcc_m_7th_ed_2010_2015) |
    grepl(&quot;^c0&quot;, derived_seer_combined_m_2016_2017) |
    grepl(&quot;^M0&quot;, derived_eod_2018_m_2018)
  )
# Select first metastases
next_pidr &lt;- paste(data_m0$patient_id, 1+data_m0$record_number_recode, sep = &quot;_&quot;)
data_m0_first_mets &lt;- data_sub_rec %&gt;%
  filter(patient_id_record %in% next_pidr) %&gt;% 
  filter(site_recode_icd_o_3_who_2008 != &#39;Breast&#39;) %&gt;% 
  left_join(
    data_m0 %&gt;% dplyr::select(patient_id, year_of_diagnosis) %&gt;% rename(primary_year_of_diagnosis = year_of_diagnosis)
  ) %&gt;% 
  mutate(years_from_primary = year_of_diagnosis - primary_year_of_diagnosis) %&gt;% 
  filter(years_from_primary &lt;= 5)

# Select second mets
next_pidr &lt;- paste(data_m0_first_mets$patient_id, 1+data_m0_first_mets$record_number_recode, sep = &quot;_&quot;)

next_info &lt;- data_sub_rec %&gt;% 
  filter(patient_id_record %in% next_pidr) %&gt;% 
  filter(site_recode_icd_o_3_who_2008 != &#39;Breast&#39;) %&gt;% 
  dplyr::select(
    patient_id,
    patient_id_record, record_number_recode,
    year_of_diagnosis, 
    site_recode_icd_o_3_who_2008, survival_months, cod_to_site_recode, 
    cod_to_site_rec_km, seer_cause_specific_death_classification, 
    seer_other_cause_of_death_classification, vital_status_recode_study_cutoff_used, 
    patient_id_record) %&gt;% 
  rename_with(., function(x) paste0(&#39;next_&#39;, x)) %&gt;% 
  dplyr::rename(patient_id = next_patient_id) %&gt;% 
  mutate(prev_patient_id_record = paste(patient_id, next_record_number_recode - 1, sep = &quot;_&quot;)) %&gt;% 
  left_join(
    data_m0_first_mets %&gt;% 
      dplyr::select(patient_id_record, year_of_diagnosis) %&gt;% 
      rename(prev_patient_id_record = patient_id_record, prev_year_of_diagnosis = year_of_diagnosis)
    ) %&gt;% 
  mutate(
    years_to_next_diagnosis = next_year_of_diagnosis - prev_year_of_diagnosis
  )

# Remove if next diagnosis happens 5 years after breast diagnosis
next_info &lt;- next_info %&gt;% filter(years_to_next_diagnosis &lt;= 5)

# Join datasets
data_m0_first_mets &lt;- left_join(data_m0_first_mets, next_info) %&gt;% 
  mutate(
    next_diagnosis = ifelse(is.na(next_patient_id_record), &#39;No&#39;, &#39;Yes&#39;),
    next_event = ifelse(next_diagnosis == &#39;Yes&#39;, &#39;New malignancy&#39;, &#39;None&#39;),
    next_event = ifelse(next_event == &#39;None&#39; &amp; vital_status_recode_study_cutoff_used == &#39;Dead&#39;, &#39;Death&#39;, next_event)
  )

# Re-value site
data_m0_first_mets &lt;- data_m0_first_mets %&gt;% 
  mutate(
    site = ifelse(site_recode_icd_o_3_who_2008 == &#39;Lung and Bronchus&#39;, &#39;Lung&#39;, &#39;Other&#39;),
    site = ifelse(site_recode_icd_o_3_who_2008 == &#39;Kidney and Renal Pelvis&#39;, &#39;Kidney&#39;, site),
    site = ifelse(site_recode_icd_o_3_who_2008 == &#39;Brain&#39;, &#39;Brain&#39;, site),
    site = ifelse(site_recode_icd_o_3_who_2008 == &#39;Bones and Joints&#39;, &#39;Bone&#39;, site),
    site = ifelse(site_recode_icd_o_3_who_2008 == &#39;Liver&#39;, &#39;Liver&#39;, site),
    site = ifelse(site_recode_icd_o_3_who_2008 == &#39;Intrahepatic Bile Duct&#39;, &#39;Liver&#39;, site)
  )</code></pre>
</div>
<div id="patients-characteristics" class="section level2" number="3">
<h2><span class="header-section-number">3</span> Patients
characteristics</h2>
<div id="patients-with-metastases-at-diagnosis" class="section level3"
number="3.1">
<h3><span class="header-section-number">3.1</span> Patients with
metastases at diagnosis</h3>
<pre class="r"><code># tab_labels &lt;- data_met_dx %&gt;% dplyr::select(-patient_id) %&gt;% colnames()
tab_labels &lt;- c(
  &#39;year_of_diagnosis&#39;, &#39;age_recode_with_1_year_olds&#39;, 
  &#39;total_number_of_in_situ_malignant_tumors_for_patient&#39;, &#39;survival_months&#39;, 
  &#39;vital_status_recode_study_cutoff_used&#39;, &#39;breast_subtype_2010&#39;, 
  &quot;er_status_recode_breast_cancer_1990&quot; , &quot;pr_status_recode_breast_cancer_1990&quot; , &quot;derived_her2_recode_2010&quot;,
  &quot;next_diagnosis&quot;, &quot;years_to_next_diagnosis&quot;, &quot;next_site&quot;)
use_formula &lt;- as.formula(paste0(&#39;seer_combined_mets_at_dx ~&#39;, paste(tab_labels, collapse = &#39;+&#39;)))
res_tab &lt;- tableby(use_formula, data=data_met_dx) 
summary(res_tab, pfootnote = TRUE)</code></pre>
<table style="width:100%;">
<colgroup>
<col width="26%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="5%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="center">Bone (N=10778)</th>
<th align="center">Brain (N=389)</th>
<th align="center">Liver (N=2050)</th>
<th align="center">Lung (N=2883)</th>
<th align="center">Multiple (N=9249)</th>
<th align="center">Other (N=3660)</th>
<th align="center">Total (N=29009)</th>
<th align="right">p value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>year_of_diagnosis</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">0.018<sup>1</sup></td>
</tr>
<tr class="even">
<td align="left">   Mean (SD)</td>
<td align="center">2014.692 (2.845)</td>
<td align="center">2014.573 (2.935)</td>
<td align="center">2014.614 (2.889)</td>
<td align="center">2014.675 (2.816)</td>
<td align="center">2014.719 (2.845)</td>
<td align="center">2014.528 (2.950)</td>
<td align="center">2014.671 (2.860)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Range</td>
<td align="center">2010.000 - 2019.000</td>
<td align="center">2010.000 - 2019.000</td>
<td align="center">2010.000 - 2019.000</td>
<td align="center">2010.000 - 2019.000</td>
<td align="center">2010.000 - 2019.000</td>
<td align="center">2010.000 - 2019.000</td>
<td align="center">2010.000 - 2019.000</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"><strong>age_recode_with_1_year_olds</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>2</sup></td>
</tr>
<tr class="odd">
<td align="left">   20-24 years</td>
<td align="center">15 (0.1%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">4 (0.2%)</td>
<td align="center">6 (0.2%)</td>
<td align="center">21 (0.2%)</td>
<td align="center">1 (0.0%)</td>
<td align="center">47 (0.2%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   25-29 years</td>
<td align="center">81 (0.8%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">34 (1.7%)</td>
<td align="center">14 (0.5%)</td>
<td align="center">82 (0.9%)</td>
<td align="center">23 (0.6%)</td>
<td align="center">234 (0.8%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   30-34 years</td>
<td align="center">227 (2.1%)</td>
<td align="center">9 (2.3%)</td>
<td align="center">90 (4.4%)</td>
<td align="center">36 (1.2%)</td>
<td align="center">200 (2.2%)</td>
<td align="center">76 (2.1%)</td>
<td align="center">638 (2.2%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   35-39 years</td>
<td align="center">438 (4.1%)</td>
<td align="center">17 (4.4%)</td>
<td align="center">118 (5.8%)</td>
<td align="center">86 (3.0%)</td>
<td align="center">348 (3.8%)</td>
<td align="center">122 (3.3%)</td>
<td align="center">1129 (3.9%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   40-44 years</td>
<td align="center">563 (5.2%)</td>
<td align="center">18 (4.6%)</td>
<td align="center">150 (7.3%)</td>
<td align="center">115 (4.0%)</td>
<td align="center">475 (5.1%)</td>
<td align="center">172 (4.7%)</td>
<td align="center">1493 (5.1%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   45-49 years</td>
<td align="center">825 (7.7%)</td>
<td align="center">32 (8.2%)</td>
<td align="center">208 (10.1%)</td>
<td align="center">170 (5.9%)</td>
<td align="center">737 (8.0%)</td>
<td align="center">282 (7.7%)</td>
<td align="center">2254 (7.8%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   50-54 years</td>
<td align="center">1134 (10.5%)</td>
<td align="center">40 (10.3%)</td>
<td align="center">277 (13.5%)</td>
<td align="center">220 (7.6%)</td>
<td align="center">1000 (10.8%)</td>
<td align="center">407 (11.1%)</td>
<td align="center">3078 (10.6%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   55-59 years</td>
<td align="center">1366 (12.7%)</td>
<td align="center">54 (13.9%)</td>
<td align="center">244 (11.9%)</td>
<td align="center">300 (10.4%)</td>
<td align="center">1339 (14.5%)</td>
<td align="center">471 (12.9%)</td>
<td align="center">3774 (13.0%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   60-64 years</td>
<td align="center">1465 (13.6%)</td>
<td align="center">58 (14.9%)</td>
<td align="center">221 (10.8%)</td>
<td align="center">358 (12.4%)</td>
<td align="center">1400 (15.1%)</td>
<td align="center">505 (13.8%)</td>
<td align="center">4007 (13.8%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   65-69 years</td>
<td align="center">1298 (12.0%)</td>
<td align="center">48 (12.3%)</td>
<td align="center">186 (9.1%)</td>
<td align="center">346 (12.0%)</td>
<td align="center">1148 (12.4%)</td>
<td align="center">461 (12.6%)</td>
<td align="center">3487 (12.0%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   70-74 years</td>
<td align="center">1067 (9.9%)</td>
<td align="center">31 (8.0%)</td>
<td align="center">181 (8.8%)</td>
<td align="center">324 (11.2%)</td>
<td align="center">920 (9.9%)</td>
<td align="center">334 (9.1%)</td>
<td align="center">2857 (9.8%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   75-79 years</td>
<td align="center">921 (8.5%)</td>
<td align="center">35 (9.0%)</td>
<td align="center">130 (6.3%)</td>
<td align="center">301 (10.4%)</td>
<td align="center">648 (7.0%)</td>
<td align="center">271 (7.4%)</td>
<td align="center">2306 (7.9%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   80-84 years</td>
<td align="center">700 (6.5%)</td>
<td align="center">24 (6.2%)</td>
<td align="center">105 (5.1%)</td>
<td align="center">255 (8.8%)</td>
<td align="center">484 (5.2%)</td>
<td align="center">207 (5.7%)</td>
<td align="center">1775 (6.1%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   85+ years</td>
<td align="center">678 (6.3%)</td>
<td align="center">23 (5.9%)</td>
<td align="center">102 (5.0%)</td>
<td align="center">352 (12.2%)</td>
<td align="center">447 (4.8%)</td>
<td align="center">328 (9.0%)</td>
<td align="center">1930 (6.7%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td
align="left"><strong>total_number_of_in_situ_malignant_tumors_for_patient</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>1</sup></td>
</tr>
<tr class="even">
<td align="left">   Mean (SD)</td>
<td align="center">1.114 (0.346)</td>
<td align="center">1.082 (0.284)</td>
<td align="center">1.082 (0.295)</td>
<td align="center">1.107 (0.347)</td>
<td align="center">1.084 (0.295)</td>
<td align="center">1.129 (0.355)</td>
<td align="center">1.103 (0.328)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Range</td>
<td align="center">1.000 - 5.000</td>
<td align="center">1.000 - 3.000</td>
<td align="center">1.000 - 4.000</td>
<td align="center">1.000 - 4.000</td>
<td align="center">1.000 - 5.000</td>
<td align="center">1.000 - 3.000</td>
<td align="center">1.000 - 5.000</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"><strong>survival_months</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>1</sup></td>
</tr>
<tr class="odd">
<td align="left">   N-Miss</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">2</td>
<td align="center">6</td>
<td align="center">15</td>
<td align="center">4</td>
<td align="center">28</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Mean (SD)</td>
<td align="center">30.054 (26.546)</td>
<td align="center">17.288 (22.474)</td>
<td align="center">26.035 (27.558)</td>
<td align="center">24.799 (25.549)</td>
<td align="center">19.479 (22.346)</td>
<td align="center">29.327 (28.931)</td>
<td align="center">25.616 (25.960)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Range</td>
<td align="center">0.000 - 119.000</td>
<td align="center">0.000 - 119.000</td>
<td align="center">0.000 - 119.000</td>
<td align="center">0.000 - 119.000</td>
<td align="center">0.000 - 118.000</td>
<td align="center">0.000 - 119.000</td>
<td align="center">0.000 - 119.000</td>
<td align="right"></td>
</tr>
<tr class="even">
<td
align="left"><strong>vital_status_recode_study_cutoff_used</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>2</sup></td>
</tr>
<tr class="odd">
<td align="left">   Alive</td>
<td align="center">4652 (43.2%)</td>
<td align="center">90 (23.1%)</td>
<td align="center">808 (39.4%)</td>
<td align="center">1070 (37.1%)</td>
<td align="center">2572 (27.8%)</td>
<td align="center">1530 (41.8%)</td>
<td align="center">10722 (37.0%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Dead</td>
<td align="center">6126 (56.8%)</td>
<td align="center">299 (76.9%)</td>
<td align="center">1242 (60.6%)</td>
<td align="center">1813 (62.9%)</td>
<td align="center">6677 (72.2%)</td>
<td align="center">2130 (58.2%)</td>
<td align="center">18287 (63.0%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left"><strong>breast_subtype_2010</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>2</sup></td>
</tr>
<tr class="even">
<td align="left">   HR-/HER2-</td>
<td align="center">688 (6.4%)</td>
<td align="center">95 (24.4%)</td>
<td align="center">280 (13.7%)</td>
<td align="center">613 (21.3%)</td>
<td align="center">1029 (11.1%)</td>
<td align="center">652 (17.8%)</td>
<td align="center">3357 (11.6%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   HR-/HER2+</td>
<td align="center">378 (3.5%)</td>
<td align="center">45 (11.6%)</td>
<td align="center">379 (18.5%)</td>
<td align="center">287 (10.0%)</td>
<td align="center">870 (9.4%)</td>
<td align="center">313 (8.6%)</td>
<td align="center">2272 (7.8%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   HR+/HER2-</td>
<td align="center">6980 (64.8%)</td>
<td align="center">116 (29.8%)</td>
<td align="center">647 (31.6%)</td>
<td align="center">1130 (39.2%)</td>
<td align="center">4309 (46.6%)</td>
<td align="center">1636 (44.7%)</td>
<td align="center">14818 (51.1%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   HR+/HER2+</td>
<td align="center">1304 (12.1%)</td>
<td align="center">49 (12.6%)</td>
<td align="center">440 (21.5%)</td>
<td align="center">354 (12.3%)</td>
<td align="center">1580 (17.1%)</td>
<td align="center">445 (12.2%)</td>
<td align="center">4172 (14.4%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Recode not available</td>
<td align="center">3 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">18 (0.6%)</td>
<td align="center">8 (0.1%)</td>
<td align="center">1 (0.0%)</td>
<td align="center">30 (0.1%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Unknown</td>
<td align="center">1425 (13.2%)</td>
<td align="center">84 (21.6%)</td>
<td align="center">304 (14.8%)</td>
<td align="center">481 (16.7%)</td>
<td align="center">1453 (15.7%)</td>
<td align="center">613 (16.7%)</td>
<td align="center">4360 (15.0%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td
align="left"><strong>er_status_recode_breast_cancer_1990</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>2</sup></td>
</tr>
<tr class="odd">
<td align="left">   Borderline/Unknown</td>
<td align="center">858 (8.0%)</td>
<td align="center">67 (17.2%)</td>
<td align="center">224 (10.9%)</td>
<td align="center">340 (11.8%)</td>
<td align="center">1012 (10.9%)</td>
<td align="center">450 (12.3%)</td>
<td align="center">2951 (10.2%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Negative</td>
<td align="center">1176 (10.9%)</td>
<td align="center">158 (40.6%)</td>
<td align="center">723 (35.3%)</td>
<td align="center">998 (34.6%)</td>
<td align="center">2132 (23.1%)</td>
<td align="center">1079 (29.5%)</td>
<td align="center">6266 (21.6%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Positive</td>
<td align="center">8741 (81.1%)</td>
<td align="center">164 (42.2%)</td>
<td align="center">1103 (53.8%)</td>
<td align="center">1527 (53.0%)</td>
<td align="center">6097 (65.9%)</td>
<td align="center">2130 (58.2%)</td>
<td align="center">19762 (68.1%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Recode not available</td>
<td align="center">3 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">18 (0.6%)</td>
<td align="center">8 (0.1%)</td>
<td align="center">1 (0.0%)</td>
<td align="center">30 (0.1%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td
align="left"><strong>pr_status_recode_breast_cancer_1990</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>2</sup></td>
</tr>
<tr class="even">
<td align="left">   Borderline/Unknown</td>
<td align="center">971 (9.0%)</td>
<td align="center">72 (18.5%)</td>
<td align="center">238 (11.6%)</td>
<td align="center">355 (12.3%)</td>
<td align="center">1107 (12.0%)</td>
<td align="center">482 (13.2%)</td>
<td align="center">3225 (11.1%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Negative</td>
<td align="center">2677 (24.8%)</td>
<td align="center">205 (52.7%)</td>
<td align="center">982 (47.9%)</td>
<td align="center">1284 (44.5%)</td>
<td align="center">3369 (36.4%)</td>
<td align="center">1507 (41.2%)</td>
<td align="center">10024 (34.6%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Positive</td>
<td align="center">7127 (66.1%)</td>
<td align="center">112 (28.8%)</td>
<td align="center">830 (40.5%)</td>
<td align="center">1226 (42.5%)</td>
<td align="center">4765 (51.5%)</td>
<td align="center">1670 (45.6%)</td>
<td align="center">15730 (54.2%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Recode not available</td>
<td align="center">3 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">18 (0.6%)</td>
<td align="center">8 (0.1%)</td>
<td align="center">1 (0.0%)</td>
<td align="center">30 (0.1%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"><strong>derived_her2_recode_2010</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>2</sup></td>
</tr>
<tr class="odd">
<td align="left">   Borderline/Unknown</td>
<td align="center">1367 (12.7%)</td>
<td align="center">81 (20.8%)</td>
<td align="center">289 (14.1%)</td>
<td align="center">462 (16.0%)</td>
<td align="center">1385 (15.0%)</td>
<td align="center">589 (16.1%)</td>
<td align="center">4173 (14.4%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Negative</td>
<td align="center">7717 (71.6%)</td>
<td align="center">213 (54.8%)</td>
<td align="center">935 (45.6%)</td>
<td align="center">1755 (60.9%)</td>
<td align="center">5382 (58.2%)</td>
<td align="center">2304 (63.0%)</td>
<td align="center">18306 (63.1%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Positive</td>
<td align="center">1691 (15.7%)</td>
<td align="center">95 (24.4%)</td>
<td align="center">826 (40.3%)</td>
<td align="center">648 (22.5%)</td>
<td align="center">2474 (26.7%)</td>
<td align="center">766 (20.9%)</td>
<td align="center">6500 (22.4%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Recode not available</td>
<td align="center">3 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">18 (0.6%)</td>
<td align="center">8 (0.1%)</td>
<td align="center">1 (0.0%)</td>
<td align="center">30 (0.1%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left"><strong>next_diagnosis</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>2</sup></td>
</tr>
<tr class="even">
<td align="left">   No</td>
<td align="center">10516 (97.6%)</td>
<td align="center">378 (97.2%)</td>
<td align="center">2014 (98.2%)</td>
<td align="center">2813 (97.6%)</td>
<td align="center">9081 (98.2%)</td>
<td align="center">3626 (99.1%)</td>
<td align="center">28428 (98.0%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Yes</td>
<td align="center">262 (2.4%)</td>
<td align="center">11 (2.8%)</td>
<td align="center">36 (1.8%)</td>
<td align="center">70 (2.4%)</td>
<td align="center">168 (1.8%)</td>
<td align="center">34 (0.9%)</td>
<td align="center">581 (2.0%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"><strong>years_to_next_diagnosis</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">0.252<sup>1</sup></td>
</tr>
<tr class="odd">
<td align="left">   N-Miss</td>
<td align="center">10516</td>
<td align="center">378</td>
<td align="center">2014</td>
<td align="center">2813</td>
<td align="center">9081</td>
<td align="center">3626</td>
<td align="center">28428</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Mean (SD)</td>
<td align="center">1.103 (1.370)</td>
<td align="center">0.273 (0.905)</td>
<td align="center">1.028 (1.404)</td>
<td align="center">0.971 (1.393)</td>
<td align="center">0.887 (1.255)</td>
<td align="center">1.206 (1.702)</td>
<td align="center">1.010 (1.359)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Range</td>
<td align="center">0.000 - 5.000</td>
<td align="center">0.000 - 3.000</td>
<td align="center">0.000 - 5.000</td>
<td align="center">0.000 - 5.000</td>
<td align="center">0.000 - 5.000</td>
<td align="center">0.000 - 5.000</td>
<td align="center">0.000 - 5.000</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"><strong>next_site</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>2</sup></td>
</tr>
<tr class="odd">
<td align="left">   N-Miss</td>
<td align="center">10516</td>
<td align="center">378</td>
<td align="center">2014</td>
<td align="center">2813</td>
<td align="center">9081</td>
<td align="center">3626</td>
<td align="center">28428</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Brain</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (1.4%)</td>
<td align="center">3 (1.8%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">4 (0.7%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Kidney</td>
<td align="center">20 (7.6%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (2.8%)</td>
<td align="center">8 (11.4%)</td>
<td align="center">9 (5.4%)</td>
<td align="center">8 (23.5%)</td>
<td align="center">46 (7.9%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Liver</td>
<td align="center">2 (0.8%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (1.4%)</td>
<td align="center">3 (1.8%)</td>
<td align="center">1 (2.9%)</td>
<td align="center">7 (1.2%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Lung</td>
<td align="center">48 (18.3%)</td>
<td align="center">5 (45.5%)</td>
<td align="center">4 (11.1%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">32 (19.0%)</td>
<td align="center">25 (73.5%)</td>
<td align="center">114 (19.6%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Other</td>
<td align="center">192 (73.3%)</td>
<td align="center">6 (54.5%)</td>
<td align="center">31 (86.1%)</td>
<td align="center">60 (85.7%)</td>
<td align="center">121 (72.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">410 (70.6%)</td>
<td align="right"></td>
</tr>
</tbody>
</table>
<ol style="list-style-type: decimal">
<li>Linear Model ANOVA</li>
<li>Pearson’s Chi-squared test</li>
</ol>
<pre class="r"><code>tab_labels &lt;- c(
  &quot;next_diagnosis&quot;, &quot;next_event&quot;, &quot;years_to_next_diagnosis&quot;, &quot;next_site&quot;, &#39;survival_months&#39;)
use_formula &lt;- as.formula(paste0(&#39;seer_combined_mets_at_dx ~&#39;, paste(tab_labels, collapse = &#39;+&#39;)))
res_tab &lt;- tableby(use_formula, data=data_met_dx) 
summary(res_tab, pfootnote = TRUE)</code></pre>
<table style="width:100%;">
<colgroup>
<col width="20%" />
<col width="10%" />
<col width="10%" />
<col width="10%" />
<col width="10%" />
<col width="11%" />
<col width="10%" />
<col width="10%" />
<col width="6%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="center">Bone (N=10778)</th>
<th align="center">Brain (N=389)</th>
<th align="center">Liver (N=2050)</th>
<th align="center">Lung (N=2883)</th>
<th align="center">Multiple (N=9249)</th>
<th align="center">Other (N=3660)</th>
<th align="center">Total (N=29009)</th>
<th align="right">p value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>next_diagnosis</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>1</sup></td>
</tr>
<tr class="even">
<td align="left">   No</td>
<td align="center">10516 (97.6%)</td>
<td align="center">378 (97.2%)</td>
<td align="center">2014 (98.2%)</td>
<td align="center">2813 (97.6%)</td>
<td align="center">9081 (98.2%)</td>
<td align="center">3626 (99.1%)</td>
<td align="center">28428 (98.0%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Yes</td>
<td align="center">262 (2.4%)</td>
<td align="center">11 (2.8%)</td>
<td align="center">36 (1.8%)</td>
<td align="center">70 (2.4%)</td>
<td align="center">168 (1.8%)</td>
<td align="center">34 (0.9%)</td>
<td align="center">581 (2.0%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"><strong>next_event</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>1</sup></td>
</tr>
<tr class="odd">
<td align="left">   Death</td>
<td align="center">5963 (55.3%)</td>
<td align="center">291 (74.8%)</td>
<td align="center">1222 (59.6%)</td>
<td align="center">1770 (61.4%)</td>
<td align="center">6553 (70.9%)</td>
<td align="center">2106 (57.5%)</td>
<td align="center">17905 (61.7%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   New malignancy</td>
<td align="center">262 (2.4%)</td>
<td align="center">11 (2.8%)</td>
<td align="center">36 (1.8%)</td>
<td align="center">70 (2.4%)</td>
<td align="center">168 (1.8%)</td>
<td align="center">34 (0.9%)</td>
<td align="center">581 (2.0%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   None</td>
<td align="center">4553 (42.2%)</td>
<td align="center">87 (22.4%)</td>
<td align="center">792 (38.6%)</td>
<td align="center">1043 (36.2%)</td>
<td align="center">2528 (27.3%)</td>
<td align="center">1520 (41.5%)</td>
<td align="center">10523 (36.3%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"><strong>years_to_next_diagnosis</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">0.252<sup>2</sup></td>
</tr>
<tr class="odd">
<td align="left">   N-Miss</td>
<td align="center">10516</td>
<td align="center">378</td>
<td align="center">2014</td>
<td align="center">2813</td>
<td align="center">9081</td>
<td align="center">3626</td>
<td align="center">28428</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Mean (SD)</td>
<td align="center">1.103 (1.370)</td>
<td align="center">0.273 (0.905)</td>
<td align="center">1.028 (1.404)</td>
<td align="center">0.971 (1.393)</td>
<td align="center">0.887 (1.255)</td>
<td align="center">1.206 (1.702)</td>
<td align="center">1.010 (1.359)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Range</td>
<td align="center">0.000 - 5.000</td>
<td align="center">0.000 - 3.000</td>
<td align="center">0.000 - 5.000</td>
<td align="center">0.000 - 5.000</td>
<td align="center">0.000 - 5.000</td>
<td align="center">0.000 - 5.000</td>
<td align="center">0.000 - 5.000</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"><strong>next_site</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>1</sup></td>
</tr>
<tr class="odd">
<td align="left">   N-Miss</td>
<td align="center">10516</td>
<td align="center">378</td>
<td align="center">2014</td>
<td align="center">2813</td>
<td align="center">9081</td>
<td align="center">3626</td>
<td align="center">28428</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Brain</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (1.4%)</td>
<td align="center">3 (1.8%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">4 (0.7%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Kidney</td>
<td align="center">20 (7.6%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (2.8%)</td>
<td align="center">8 (11.4%)</td>
<td align="center">9 (5.4%)</td>
<td align="center">8 (23.5%)</td>
<td align="center">46 (7.9%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Liver</td>
<td align="center">2 (0.8%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (1.4%)</td>
<td align="center">3 (1.8%)</td>
<td align="center">1 (2.9%)</td>
<td align="center">7 (1.2%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Lung</td>
<td align="center">48 (18.3%)</td>
<td align="center">5 (45.5%)</td>
<td align="center">4 (11.1%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">32 (19.0%)</td>
<td align="center">25 (73.5%)</td>
<td align="center">114 (19.6%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Other</td>
<td align="center">192 (73.3%)</td>
<td align="center">6 (54.5%)</td>
<td align="center">31 (86.1%)</td>
<td align="center">60 (85.7%)</td>
<td align="center">121 (72.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">410 (70.6%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left"><strong>survival_months</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>2</sup></td>
</tr>
<tr class="even">
<td align="left">   N-Miss</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">2</td>
<td align="center">6</td>
<td align="center">15</td>
<td align="center">4</td>
<td align="center">28</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Mean (SD)</td>
<td align="center">30.054 (26.546)</td>
<td align="center">17.288 (22.474)</td>
<td align="center">26.035 (27.558)</td>
<td align="center">24.799 (25.549)</td>
<td align="center">19.479 (22.346)</td>
<td align="center">29.327 (28.931)</td>
<td align="center">25.616 (25.960)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Range</td>
<td align="center">0.000 - 119.000</td>
<td align="center">0.000 - 119.000</td>
<td align="center">0.000 - 119.000</td>
<td align="center">0.000 - 119.000</td>
<td align="center">0.000 - 118.000</td>
<td align="center">0.000 - 119.000</td>
<td align="center">0.000 - 119.000</td>
<td align="right"></td>
</tr>
</tbody>
</table>
<ol style="list-style-type: decimal">
<li>Pearson’s Chi-squared test</li>
<li>Linear Model ANOVA</li>
</ol>
</div>
<div id="patients-without-metastases-at-diagnosis"
class="section level3" number="3.2">
<h3><span class="header-section-number">3.2</span> Patients without
metastases at diagnosis</h3>
<pre class="r"><code># tab_labels &lt;- data_met_dx %&gt;% dplyr::select(-patient_id) %&gt;% colnames()
tab_labels &lt;- c(
  &#39;year_of_diagnosis&#39;, &#39;age_recode_with_1_year_olds&#39;, 
  &#39;total_number_of_in_situ_malignant_tumors_for_patient&#39;, &#39;survival_months&#39;, 
  &#39;vital_status_recode_study_cutoff_used&#39;, &#39;breast_subtype_2010&#39;, 
  &quot;er_status_recode_breast_cancer_1990&quot; , &quot;pr_status_recode_breast_cancer_1990&quot; , &quot;derived_her2_recode_2010&quot;,
  &quot;next_diagnosis&quot;, &quot;years_to_next_diagnosis&quot;, &quot;next_cod_to_site_recode&quot;)
use_formula &lt;- as.formula(paste0(&#39;site ~&#39;, paste(tab_labels, collapse = &#39;+&#39;)))
res_tab &lt;- tableby(use_formula, data=data_m0_first_mets) 
summary(res_tab, pfootnote = TRUE)</code></pre>
<table style="width:100%;">
<colgroup>
<col width="31%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="4%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="center">Bone (N=23)</th>
<th align="center">Brain (N=174)</th>
<th align="center">Kidney (N=745)</th>
<th align="center">Liver (N=217)</th>
<th align="center">Lung (N=2868)</th>
<th align="center">Other (N=10684)</th>
<th align="center">Total (N=14711)</th>
<th align="right">p value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>year_of_diagnosis</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>1</sup></td>
</tr>
<tr class="even">
<td align="left">   Mean (SD)</td>
<td align="center">2016.522 (2.233)</td>
<td align="center">2015.477 (2.560)</td>
<td align="center">2015.387 (2.615)</td>
<td align="center">2015.935 (2.451)</td>
<td align="center">2015.440 (2.550)</td>
<td align="center">2015.597 (2.436)</td>
<td align="center">2015.561 (2.471)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Range</td>
<td align="center">2011.000 - 2019.000</td>
<td align="center">2010.000 - 2019.000</td>
<td align="center">2010.000 - 2019.000</td>
<td align="center">2010.000 - 2019.000</td>
<td align="center">2010.000 - 2019.000</td>
<td align="center">2010.000 - 2019.000</td>
<td align="center">2010.000 - 2019.000</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"><strong>age_recode_with_1_year_olds</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>2</sup></td>
</tr>
<tr class="odd">
<td align="left">   25-29 years</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">10 (0.1%)</td>
<td align="center">10 (0.1%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   30-34 years</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">4 (0.5%)</td>
<td align="center">1 (0.5%)</td>
<td align="center">5 (0.2%)</td>
<td align="center">39 (0.4%)</td>
<td align="center">49 (0.3%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   35-39 years</td>
<td align="center">2 (8.7%)</td>
<td align="center">3 (1.7%)</td>
<td align="center">3 (0.4%)</td>
<td align="center">1 (0.5%)</td>
<td align="center">8 (0.3%)</td>
<td align="center">99 (0.9%)</td>
<td align="center">116 (0.8%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   40-44 years</td>
<td align="center">2 (8.7%)</td>
<td align="center">5 (2.9%)</td>
<td align="center">15 (2.0%)</td>
<td align="center">1 (0.5%)</td>
<td align="center">20 (0.7%)</td>
<td align="center">245 (2.3%)</td>
<td align="center">288 (2.0%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   45-49 years</td>
<td align="center">2 (8.7%)</td>
<td align="center">10 (5.7%)</td>
<td align="center">35 (4.7%)</td>
<td align="center">6 (2.8%)</td>
<td align="center">55 (1.9%)</td>
<td align="center">513 (4.8%)</td>
<td align="center">621 (4.2%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   50-54 years</td>
<td align="center">1 (4.3%)</td>
<td align="center">24 (13.8%)</td>
<td align="center">51 (6.8%)</td>
<td align="center">9 (4.1%)</td>
<td align="center">126 (4.4%)</td>
<td align="center">817 (7.6%)</td>
<td align="center">1028 (7.0%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   55-59 years</td>
<td align="center">3 (13.0%)</td>
<td align="center">14 (8.0%)</td>
<td align="center">102 (13.7%)</td>
<td align="center">27 (12.4%)</td>
<td align="center">209 (7.3%)</td>
<td align="center">1011 (9.5%)</td>
<td align="center">1366 (9.3%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   60-64 years</td>
<td align="center">4 (17.4%)</td>
<td align="center">24 (13.8%)</td>
<td align="center">113 (15.2%)</td>
<td align="center">25 (11.5%)</td>
<td align="center">369 (12.9%)</td>
<td align="center">1329 (12.4%)</td>
<td align="center">1864 (12.7%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   65-69 years</td>
<td align="center">4 (17.4%)</td>
<td align="center">24 (13.8%)</td>
<td align="center">120 (16.1%)</td>
<td align="center">38 (17.5%)</td>
<td align="center">505 (17.6%)</td>
<td align="center">1650 (15.4%)</td>
<td align="center">2341 (15.9%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   70-74 years</td>
<td align="center">2 (8.7%)</td>
<td align="center">30 (17.2%)</td>
<td align="center">109 (14.6%)</td>
<td align="center">35 (16.1%)</td>
<td align="center">588 (20.5%)</td>
<td align="center">1575 (14.7%)</td>
<td align="center">2339 (15.9%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   75-79 years</td>
<td align="center">1 (4.3%)</td>
<td align="center">19 (10.9%)</td>
<td align="center">108 (14.5%)</td>
<td align="center">34 (15.7%)</td>
<td align="center">459 (16.0%)</td>
<td align="center">1339 (12.5%)</td>
<td align="center">1960 (13.3%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   80-84 years</td>
<td align="center">1 (4.3%)</td>
<td align="center">11 (6.3%)</td>
<td align="center">45 (6.0%)</td>
<td align="center">22 (10.1%)</td>
<td align="center">310 (10.8%)</td>
<td align="center">1058 (9.9%)</td>
<td align="center">1447 (9.8%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   85+ years</td>
<td align="center">1 (4.3%)</td>
<td align="center">10 (5.7%)</td>
<td align="center">40 (5.4%)</td>
<td align="center">18 (8.3%)</td>
<td align="center">214 (7.5%)</td>
<td align="center">999 (9.4%)</td>
<td align="center">1282 (8.7%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td
align="left"><strong>total_number_of_in_situ_malignant_tumors_for_patient</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">0.331<sup>1</sup></td>
</tr>
<tr class="odd">
<td align="left">   Mean (SD)</td>
<td align="center">2.043 (0.209)</td>
<td align="center">2.092 (0.309)</td>
<td align="center">2.160 (0.431)</td>
<td align="center">2.147 (0.426)</td>
<td align="center">2.145 (0.400)</td>
<td align="center">2.142 (0.397)</td>
<td align="center">2.143 (0.399)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Range</td>
<td align="center">2.000 - 3.000</td>
<td align="center">2.000 - 4.000</td>
<td align="center">2.000 - 5.000</td>
<td align="center">2.000 - 5.000</td>
<td align="center">2.000 - 6.000</td>
<td align="center">2.000 - 7.000</td>
<td align="center">2.000 - 7.000</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left"><strong>survival_months</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>1</sup></td>
</tr>
<tr class="even">
<td align="left">   N-Miss</td>
<td align="center">1</td>
<td align="center">4</td>
<td align="center">1</td>
<td align="center">5</td>
<td align="center">17</td>
<td align="center">37</td>
<td align="center">65</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Mean (SD)</td>
<td align="center">30.091 (26.398)</td>
<td align="center">15.553 (19.555)</td>
<td align="center">39.145 (31.074)</td>
<td align="center">17.972 (20.760)</td>
<td align="center">25.757 (26.890)</td>
<td align="center">32.376 (28.257)</td>
<td align="center">31.025 (28.233)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Range</td>
<td align="center">2.000 - 101.000</td>
<td align="center">0.000 - 114.000</td>
<td align="center">0.000 - 118.000</td>
<td align="center">0.000 - 100.000</td>
<td align="center">0.000 - 118.000</td>
<td align="center">0.000 - 119.000</td>
<td align="center">0.000 - 119.000</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td
align="left"><strong>vital_status_recode_study_cutoff_used</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>2</sup></td>
</tr>
<tr class="even">
<td align="left">   Alive</td>
<td align="center">19 (82.6%)</td>
<td align="center">47 (27.0%)</td>
<td align="center">573 (76.9%)</td>
<td align="center">86 (39.6%)</td>
<td align="center">1352 (47.1%)</td>
<td align="center">7002 (65.5%)</td>
<td align="center">9079 (61.7%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Dead</td>
<td align="center">4 (17.4%)</td>
<td align="center">127 (73.0%)</td>
<td align="center">172 (23.1%)</td>
<td align="center">131 (60.4%)</td>
<td align="center">1516 (52.9%)</td>
<td align="center">3682 (34.5%)</td>
<td align="center">5632 (38.3%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"><strong>breast_subtype_2010</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>3</sup></td>
</tr>
<tr class="odd">
<td align="left">   Recode not available</td>
<td align="center">23 (100.0%)</td>
<td align="center">174 (100.0%)</td>
<td align="center">745 (100.0%)</td>
<td align="center">217 (100.0%)</td>
<td align="center">2868 (100.0%)</td>
<td align="center">10684 (100.0%)</td>
<td align="center">14711 (100.0%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td
align="left"><strong>er_status_recode_breast_cancer_1990</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>3</sup></td>
</tr>
<tr class="odd">
<td align="left">   Recode not available</td>
<td align="center">23 (100.0%)</td>
<td align="center">174 (100.0%)</td>
<td align="center">745 (100.0%)</td>
<td align="center">217 (100.0%)</td>
<td align="center">2868 (100.0%)</td>
<td align="center">10684 (100.0%)</td>
<td align="center">14711 (100.0%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td
align="left"><strong>pr_status_recode_breast_cancer_1990</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>3</sup></td>
</tr>
<tr class="odd">
<td align="left">   Recode not available</td>
<td align="center">23 (100.0%)</td>
<td align="center">174 (100.0%)</td>
<td align="center">745 (100.0%)</td>
<td align="center">217 (100.0%)</td>
<td align="center">2868 (100.0%)</td>
<td align="center">10684 (100.0%)</td>
<td align="center">14711 (100.0%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"><strong>derived_her2_recode_2010</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>3</sup></td>
</tr>
<tr class="odd">
<td align="left">   Recode not available</td>
<td align="center">23 (100.0%)</td>
<td align="center">174 (100.0%)</td>
<td align="center">745 (100.0%)</td>
<td align="center">217 (100.0%)</td>
<td align="center">2868 (100.0%)</td>
<td align="center">10684 (100.0%)</td>
<td align="center">14711 (100.0%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"><strong>next_diagnosis</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">0.269<sup>2</sup></td>
</tr>
<tr class="odd">
<td align="left">   No</td>
<td align="center">23 (100.0%)</td>
<td align="center">166 (95.4%)</td>
<td align="center">685 (91.9%)</td>
<td align="center">205 (94.5%)</td>
<td align="center">2647 (92.3%)</td>
<td align="center">9922 (92.9%)</td>
<td align="center">13648 (92.8%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Yes</td>
<td align="center">0 (0.0%)</td>
<td align="center">8 (4.6%)</td>
<td align="center">60 (8.1%)</td>
<td align="center">12 (5.5%)</td>
<td align="center">221 (7.7%)</td>
<td align="center">762 (7.1%)</td>
<td align="center">1063 (7.2%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left"><strong>years_to_next_diagnosis</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   N-Miss</td>
<td align="center">23</td>
<td align="center">166</td>
<td align="center">685</td>
<td align="center">205</td>
<td align="center">2647</td>
<td align="center">9922</td>
<td align="center">13648</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Mean (SD)</td>
<td align="center">NA</td>
<td align="center">0.625 (1.768)</td>
<td align="center">1.483 (1.568)</td>
<td align="center">1.000 (1.279)</td>
<td align="center">1.240 (1.532)</td>
<td align="center">1.388 (1.500)</td>
<td align="center">1.353 (1.511)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Range</td>
<td align="center">NA</td>
<td align="center">0.000 - 5.000</td>
<td align="center">0.000 - 5.000</td>
<td align="center">0.000 - 3.000</td>
<td align="center">0.000 - 5.000</td>
<td align="center">0.000 - 5.000</td>
<td align="center">0.000 - 5.000</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left"><strong>next_cod_to_site_recode</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   N-Miss</td>
<td align="center">23</td>
<td align="center">166</td>
<td align="center">685</td>
<td align="center">205</td>
<td align="center">2647</td>
<td align="center">9922</td>
<td align="center">13648</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Accidents and Adverse Effects</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (1.7%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.5%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">2 (0.2%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Acute Myeloid Leukemia</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.5%)</td>
<td align="center">26 (3.4%)</td>
<td align="center">27 (2.5%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Aleukemic, Subleukemic and NOS</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">5 (0.7%)</td>
<td align="center">5 (0.5%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Alive</td>
<td align="center">0</td>
<td align="center">3 (37.5%)</td>
<td align="center">39 (65.0%)</td>
<td align="center">7 (58.3%)</td>
<td align="center">117 (52.9%)</td>
<td align="center">457 (60.0%)</td>
<td align="center">623 (58.6%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Alzheimers (ICD-9 and 10 only)</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">2 (0.3%)</td>
<td align="center">2 (0.2%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Anus, Anal Canal and Anorectum</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.1%)</td>
<td align="center">1 (0.1%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Aortic Aneurysm and Dissection</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.1%)</td>
<td align="center">1 (0.1%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Brain and Other Nervous System</td>
<td align="center">0</td>
<td align="center">5 (62.5%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">2 (0.3%)</td>
<td align="center">7 (0.7%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Breast</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">2 (3.3%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">22 (10.0%)</td>
<td align="center">35 (4.6%)</td>
<td align="center">59 (5.6%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Cerebrovascular Diseases</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (1.7%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.5%)</td>
<td align="center">4 (0.5%)</td>
<td align="center">6 (0.6%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Chronic Liver Disease and Cirrhosis</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (8.3%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.1%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Chronic Lymphocytic Leukemia</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.1%)</td>
<td align="center">1 (0.1%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Chronic Obstructive Pulmonary Disease and Allied
Cond</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">3 (1.4%)</td>
<td align="center">5 (0.7%)</td>
<td align="center">8 (0.8%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Colon excluding Rectum</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">2 (3.3%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">3 (1.4%)</td>
<td align="center">11 (1.4%)</td>
<td align="center">16 (1.5%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Corpus Uteri</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.5%)</td>
<td align="center">7 (0.9%)</td>
<td align="center">8 (0.8%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Diabetes Mellitus</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (8.3%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.1%)</td>
<td align="center">2 (0.2%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Diseases of Heart</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">4 (6.7%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.5%)</td>
<td align="center">8 (1.0%)</td>
<td align="center">13 (1.2%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Esophagus</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.5%)</td>
<td align="center">3 (0.4%)</td>
<td align="center">4 (0.4%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Eye and Orbit</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.1%)</td>
<td align="center">1 (0.1%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Gallbladder</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">4 (0.5%)</td>
<td align="center">4 (0.4%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Gum and Other Mouth</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (1.7%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">2 (0.3%)</td>
<td align="center">3 (0.3%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   In situ, benign or unknown behavior neoplasm</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">2 (3.3%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">8 (1.0%)</td>
<td align="center">10 (0.9%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Intrahepatic Bile Duct</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">3 (0.4%)</td>
<td align="center">3 (0.3%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Kidney and Renal Pelvis</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">2 (3.3%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.1%)</td>
<td align="center">3 (0.3%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Liver</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (1.7%)</td>
<td align="center">1 (8.3%)</td>
<td align="center">1 (0.5%)</td>
<td align="center">2 (0.3%)</td>
<td align="center">5 (0.5%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Lung and Bronchus</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">47 (21.3%)</td>
<td align="center">28 (3.7%)</td>
<td align="center">75 (7.1%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Melanoma of the Skin</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.5%)</td>
<td align="center">2 (0.3%)</td>
<td align="center">3 (0.3%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Miscellaneous Malignant Cancer</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">2 (3.3%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">9 (4.1%)</td>
<td align="center">42 (5.5%)</td>
<td align="center">53 (5.0%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Myeloma</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">2 (0.3%)</td>
<td align="center">2 (0.2%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Nephritis, Nephrotic Syndrome and Nephrosis</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.1%)</td>
<td align="center">1 (0.1%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Non-Hodgkin Lymphoma</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">9 (1.2%)</td>
<td align="center">9 (0.8%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Non-Melanoma Skin</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.1%)</td>
<td align="center">1 (0.1%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Other Acute Leukemia</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.5%)</td>
<td align="center">2 (0.3%)</td>
<td align="center">3 (0.3%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Other Cause of Death</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (1.7%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">3 (1.4%)</td>
<td align="center">15 (2.0%)</td>
<td align="center">19 (1.8%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Other Female Genital Organs</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.1%)</td>
<td align="center">1 (0.1%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Other Infectious and Parasitic Diseases including
HIV</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.1%)</td>
<td align="center">1 (0.1%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Other Lymphocytic Leukemia</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.1%)</td>
<td align="center">1 (0.1%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Ovary</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.5%)</td>
<td align="center">4 (0.5%)</td>
<td align="center">5 (0.5%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Pancreas</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (1.7%)</td>
<td align="center">1 (8.3%)</td>
<td align="center">3 (1.4%)</td>
<td align="center">24 (3.1%)</td>
<td align="center">29 (2.7%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Pneumonia and Influenza</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.5%)</td>
<td align="center">2 (0.3%)</td>
<td align="center">3 (0.3%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Rectum and Rectosigmoid Junction</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">2 (0.3%)</td>
<td align="center">2 (0.2%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Septicemia</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">4 (0.5%)</td>
<td align="center">4 (0.4%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Soft Tissue including Heart</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">5 (0.7%)</td>
<td align="center">5 (0.5%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   State DC not available or state DC available but no
COD</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (1.7%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.5%)</td>
<td align="center">3 (0.4%)</td>
<td align="center">5 (0.5%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Stomach</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (8.3%)</td>
<td align="center">1 (0.5%)</td>
<td align="center">6 (0.8%)</td>
<td align="center">8 (0.8%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Stomach and Duodenal Ulcers</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.1%)</td>
<td align="center">1 (0.1%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Suicide and Self-Inflicted Injury</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.5%)</td>
<td align="center">1 (0.1%)</td>
<td align="center">2 (0.2%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Thyroid</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.1%)</td>
<td align="center">1 (0.1%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Urinary Bladder</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">4 (0.5%)</td>
<td align="center">4 (0.4%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Uterus, NOS</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">8 (1.0%)</td>
<td align="center">8 (0.8%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Vagina</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.1%)</td>
<td align="center">1 (0.1%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Vulva</td>
<td align="center">0</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">0 (0.0%)</td>
<td align="center">1 (0.1%)</td>
<td align="center">1 (0.1%)</td>
<td align="right"></td>
</tr>
</tbody>
</table>
<ol style="list-style-type: decimal">
<li>Linear Model ANOVA</li>
<li>Pearson’s Chi-squared test</li>
<li>Chi-squared test for given probabilities</li>
</ol>
<pre class="r"><code>tab_labels &lt;- c(
  &quot;next_diagnosis&quot;, &quot;next_event&quot;, &quot;years_to_next_diagnosis&quot;, &#39;survival_months&#39;)
use_formula &lt;- as.formula(paste0(&#39;site ~&#39;, paste(tab_labels, collapse = &#39;+&#39;)))
res_tab &lt;- tableby(use_formula, data=data_m0_first_mets) 
summary(res_tab, pfootnote = TRUE)</code></pre>
<table style="width:100%;">
<colgroup>
<col width="20%" />
<col width="10%" />
<col width="10%" />
<col width="10%" />
<col width="10%" />
<col width="10%" />
<col width="10%" />
<col width="10%" />
<col width="6%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="center">Bone (N=23)</th>
<th align="center">Brain (N=174)</th>
<th align="center">Kidney (N=745)</th>
<th align="center">Liver (N=217)</th>
<th align="center">Lung (N=2868)</th>
<th align="center">Other (N=10684)</th>
<th align="center">Total (N=14711)</th>
<th align="right">p value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>next_diagnosis</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">0.269<sup>1</sup></td>
</tr>
<tr class="even">
<td align="left">   No</td>
<td align="center">23 (100.0%)</td>
<td align="center">166 (95.4%)</td>
<td align="center">685 (91.9%)</td>
<td align="center">205 (94.5%)</td>
<td align="center">2647 (92.3%)</td>
<td align="center">9922 (92.9%)</td>
<td align="center">13648 (92.8%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Yes</td>
<td align="center">0 (0.0%)</td>
<td align="center">8 (4.6%)</td>
<td align="center">60 (8.1%)</td>
<td align="center">12 (5.5%)</td>
<td align="center">221 (7.7%)</td>
<td align="center">762 (7.1%)</td>
<td align="center">1063 (7.2%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"><strong>next_event</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>1</sup></td>
</tr>
<tr class="odd">
<td align="left">   Death</td>
<td align="center">4 (17.4%)</td>
<td align="center">122 (70.1%)</td>
<td align="center">151 (20.3%)</td>
<td align="center">126 (58.1%)</td>
<td align="center">1412 (49.2%)</td>
<td align="center">3377 (31.6%)</td>
<td align="center">5192 (35.3%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   New malignancy</td>
<td align="center">0 (0.0%)</td>
<td align="center">8 (4.6%)</td>
<td align="center">60 (8.1%)</td>
<td align="center">12 (5.5%)</td>
<td align="center">221 (7.7%)</td>
<td align="center">762 (7.1%)</td>
<td align="center">1063 (7.2%)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   None</td>
<td align="center">19 (82.6%)</td>
<td align="center">44 (25.3%)</td>
<td align="center">534 (71.7%)</td>
<td align="center">79 (36.4%)</td>
<td align="center">1235 (43.1%)</td>
<td align="center">6545 (61.3%)</td>
<td align="center">8456 (57.5%)</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"><strong>years_to_next_diagnosis</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   N-Miss</td>
<td align="center">23</td>
<td align="center">166</td>
<td align="center">685</td>
<td align="center">205</td>
<td align="center">2647</td>
<td align="center">9922</td>
<td align="center">13648</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Mean (SD)</td>
<td align="center">NA</td>
<td align="center">0.625 (1.768)</td>
<td align="center">1.483 (1.568)</td>
<td align="center">1.000 (1.279)</td>
<td align="center">1.240 (1.532)</td>
<td align="center">1.388 (1.500)</td>
<td align="center">1.353 (1.511)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Range</td>
<td align="center">NA</td>
<td align="center">0.000 - 5.000</td>
<td align="center">0.000 - 5.000</td>
<td align="center">0.000 - 3.000</td>
<td align="center">0.000 - 5.000</td>
<td align="center">0.000 - 5.000</td>
<td align="center">0.000 - 5.000</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left"><strong>survival_months</strong></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="right">&lt; 0.001<sup>2</sup></td>
</tr>
<tr class="odd">
<td align="left">   N-Miss</td>
<td align="center">1</td>
<td align="center">4</td>
<td align="center">1</td>
<td align="center">5</td>
<td align="center">17</td>
<td align="center">37</td>
<td align="center">65</td>
<td align="right"></td>
</tr>
<tr class="even">
<td align="left">   Mean (SD)</td>
<td align="center">30.091 (26.398)</td>
<td align="center">15.553 (19.555)</td>
<td align="center">39.145 (31.074)</td>
<td align="center">17.972 (20.760)</td>
<td align="center">25.757 (26.890)</td>
<td align="center">32.376 (28.257)</td>
<td align="center">31.025 (28.233)</td>
<td align="right"></td>
</tr>
<tr class="odd">
<td align="left">   Range</td>
<td align="center">2.000 - 101.000</td>
<td align="center">0.000 - 114.000</td>
<td align="center">0.000 - 118.000</td>
<td align="center">0.000 - 100.000</td>
<td align="center">0.000 - 118.000</td>
<td align="center">0.000 - 119.000</td>
<td align="center">0.000 - 119.000</td>
<td align="right"></td>
</tr>
</tbody>
</table>
<ol style="list-style-type: decimal">
<li>Pearson’s Chi-squared test</li>
<li>Linear Model ANOVA</li>
</ol>
</div>
</div>
<div id="new-metastasis-free-survival-in-tn-3-year-months-censoring"
class="section level2" number="4">
<h2><span class="header-section-number">4</span> New metastasis-Free
Survival in TN (3 year months censoring)</h2>
<p>Using the patients with metastatic breast cancer at diagnosis, we
analyze the length of time from diagnosis that a patient is still alive
and the cancer has not spread to other parts of the body. We censored
patients with incomplete follow-up, death attributable to other cases or
death with unknown/missing cause.</p>
<pre class="r"><code>n_months &lt;- 3*12
use_subset &lt;- data_met_dx %&gt;% 
  filter(breast_subtype_2010 == &#39;HR-/HER2-&#39;) %&gt;%
  filter(seer_combined_mets_at_dx %in% c(&#39;Liver&#39;, &#39;Lung&#39;) )
use_data &lt;- use_subset %&gt;%
  mutate(
    mfs_months = 12*use_subset$years_to_next_diagnosis,
    mfs_months = ifelse(is.na(mfs_months), survival_months, mfs_months),
    status = ifelse(!is.na(mfs_months), 1, 0),
    status = ifelse(status == 0 &amp; seer_cause_specific_death_classification == &#39;Dead (attributable to this cancer dx)&#39;, 1, status),
    status = ifelse(mfs_months &gt; n_months, 0, status),
    mfs_months =  ifelse(mfs_months &gt; n_months, n_months, mfs_months)
  ) %&gt;% 
  filter(
    survival_months_flag == &#39;Complete dates are available and there are more than 0 days of survival&#39;
  )

km_fit &lt;- survfit2(Surv(mfs_months, status) ~ seer_combined_mets_at_dx, data=use_data)

sdiff_res &lt;- survdiff(Surv(mfs_months, status) ~ seer_combined_mets_at_dx, data=use_data)
coxph_res &lt;- coxph(Surv(mfs_months, status) ~ seer_combined_mets_at_dx, data=use_data)</code></pre>
<div id="km-plot" class="section level3" number="4.1">
<h3><span class="header-section-number">4.1</span> KM plot</h3>
<pre class="r"><code>ggsurvfit(km_fit) +
  scale_x_continuous(
    limits = c(0, n_months),
    expand = c(0, 0)
  ) +
  scale_color_manual(values = site_palette) +
  theme_project +
  labs(
    x = &quot;Months&quot;,
    y = &quot;Next metastasis-free survival&quot;,
    caption = paste0(&quot;Log-rank P value = &quot;, format.pval(sdiff_res$pvalue,2)),
    title = &#39;HR-/HER2-&#39;
  )</code></pre>
<p><img src="figure/seer_brca_analysis.Rmd/mfs-tn-km-3y-1.png" width="2100" style="display: block; margin: auto;" /></p>
</div>
<div id="log-rank-test" class="section level3" number="4.2">
<h3><span class="header-section-number">4.2</span> Log-rank test</h3>
<pre class="r"><code>broom::tidy(sdiff_res) %&gt;% 
  mutate(`(O-E)^2/E` = ((obs-exp)^2)/exp) %&gt;% 
  kable(caption = &quot;Test Survival Curve Differences.&quot;) %&gt;% 
  kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;), full_width = F)</code></pre>
<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Test Survival Curve Differences.
</caption>
<thead>
<tr>
<th style="text-align:left;">
seer_combined_mets_at_dx
</th>
<th style="text-align:right;">
N
</th>
<th style="text-align:right;">
obs
</th>
<th style="text-align:right;">
exp
</th>
<th style="text-align:right;">
(O-E)^2/E
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Liver
</td>
<td style="text-align:right;">
278
</td>
<td style="text-align:right;">
257
</td>
<td style="text-align:right;">
225.1807
</td>
<td style="text-align:right;">
4.496242
</td>
</tr>
<tr>
<td style="text-align:left;">
Lung
</td>
<td style="text-align:right;">
606
</td>
<td style="text-align:right;">
535
</td>
<td style="text-align:right;">
566.8193
</td>
<td style="text-align:right;">
1.786225
</td>
</tr>
</tbody>
</table>
</div>
<div id="cox-regression-model" class="section level3" number="4.3">
<h3><span class="header-section-number">4.3</span> Cox regression
model</h3>
<pre class="r"><code># coxph_res %&gt;% 
#   gtsummary::tbl_regression(exp = TRUE) %&gt;% 
#   gtsummary::as_gt()  %&gt;%
#   gt::tab_source_note(gt::md(&quot;*Cox regression model*&quot;))

coxph_res %&gt;% broom::tidy() %&gt;% 
  mutate(
    ci.l = estimate - 1.96*std.error,
    ci.u = estimate + 1.96*std.error 
  ) %&gt;% 
  dplyr::rename(HR = estimate) %&gt;% 
  mutate(
    HR = exp(HR),
    ci.u = exp(ci.u),
    ci.l = exp(ci.l),
    term = gsub(&#39;seer_combined_mets_at_dx&#39;, &#39;&#39;, term),
    p.value = format.pval(p.value)) %&gt;% 
  kable(caption = &quot;Cox PH model&quot;) %&gt;% 
  kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;), full_width = F)</code></pre>
<table class="table table-striped table-hover" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
Cox PH model
</caption>
<thead>
<tr>
<th style="text-align:left;">
term
</th>
<th style="text-align:right;">
HR
</th>
<th style="text-align:right;">
std.error
</th>
<th style="text-align:right;">
statistic
</th>
<th style="text-align:left;">
p.value
</th>
<th style="text-align:right;">
ci.l
</th>
<th style="text-align:right;">
ci.u
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Lung
</td>
<td style="text-align:right;">
0.8212153
</td>
<td style="text-align:right;">
0.075957
</td>
<td style="text-align:right;">
-2.593179
</td>
<td style="text-align:left;">
0.0095093
</td>
<td style="text-align:right;">
0.7076217
</td>
<td style="text-align:right;">
0.9530438
</td>
</tr>
</tbody>
</table>
</div>
<div id="distribution" class="section level3" number="4.4">
<h3><span class="header-section-number">4.4</span> Distribution</h3>
<div id="raincloud-plot" class="section level4" number="4.4.1">
<h4><span class="header-section-number">4.4.1</span> Raincloud plot</h4>
<pre class="r"><code>use_data %&gt;% 
  ggplot(aes(seer_combined_mets_at_dx, mfs_months, 
             fill = seer_combined_mets_at_dx,
             color = seer_combined_mets_at_dx)) +
  ggdist::stat_halfeye(
    adjust = .5, 
    width = .6, 
    .width = 0, 
    justification = -.3, 
    point_colour = NA) + 
  geom_boxplot(
    width = .20, 
    outlier.shape = NA,
    alpha = 0.3, 
    color = &#39;white&#39;
  ) +
  # geom_boxplot(alpha = 0.4, 
  #              color = &#39;black&#39;, 
  #              outlier.shape = NA,
  #              show.legend = FALSE, 
  #              size = 0.25, 
  #              fatten = 1,
  #              width = .20) +
 # ## add justified jitter from the {gghalves} package
 #  gghalves::geom_half_point(
 #    ## draw jitter on the left
 #    side = &quot;l&quot;, 
 #    ## control range of jitter
 #    range_scale = .4, 
 #    ## add some transparency
 #    alpha = .2, 
 #    size = 0.7
 #  ) + 
  geom_point(
    size = 0.5, pch = 16,
    alpha = .5,
    position = position_jitter(
      seed = 1, width = .1
    )
  ) + 
  geom_boxplot(
    width = .20, 
    outlier.shape = NA,
    alpha = 0, 
    color = &#39;black&#39;
  ) +
  scale_fill_manual(values = site_palette) + 
  scale_color_manual(values = site_palette) +
  guides(color = &#39;none&#39;, fill = &#39;none&#39;) +
  stat_compare_means(method = &quot;wilcox.test&quot;, 
                     label.y = n_months+0.05*n_months, 
                     size = geom_text_size)+ 
  labs(
    x = &#39;&#39;,
    y = &#39;Time (months)&#39;
  )</code></pre>
<p><img src="figure/seer_brca_analysis.Rmd/mfs-tn-dist-raincloud-3y-1.png" width="2100" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="survival-rate-at-endpoint" class="section level3" number="4.5">
<h3><span class="header-section-number">4.5</span> Survival rate at
endpoint</h3>
<pre class="r"><code>plot_data &lt;- use_data %&gt;% 
  group_by(seer_combined_mets_at_dx) %&gt;% 
  summarise(
    n = n(),
    n_surv = sum(mfs_months == n_months)
  ) %&gt;% 
  mutate(
    p_surv = n_surv/n,
    n_events = n - n_surv)

ft_res &lt;- fisher.test(plot_data %&gt;% column_to_rownames(&#39;seer_combined_mets_at_dx&#39;) %&gt;% dplyr::select(n_events, n_surv), alternative = &quot;greater&quot;) %&gt;% 
  broom::tidy() %&gt;% 
  mutate(
    group1 = &#39;Liver&#39;,
    group2 = &#39;Lung&#39;,
    .y. = &#39;p_surv&#39;,
    y.position = max(plot_data$p_surv)+0.10*max(plot_data$p_surv),
    p.value = format.pval(p.value, 2),
    or_ci = paste0(round(estimate, 2), &#39; (&#39;, round(conf.low,2),&#39;-&#39;, round(conf.high,2),&#39;)&#39;)
  )

plot_data %&gt;% 
  ggplot(aes(seer_combined_mets_at_dx, p_surv)) +
  geom_col(aes(fill = seer_combined_mets_at_dx), width = 0.5) +
  scale_fill_manual(values = site_palette) +
  scale_y_continuous(
    labels = scales::percent,
    expand = expansion(mult = c(0, 0.1))
    ) +
  guides(color = &#39;none&#39;, fill = &#39;none&#39;) +
  stat_pvalue_manual(ft_res, label = &quot;P = {p.value}&quot;, 
                     label.size = geom_text_size) +
  labs(
    x = &#39;&#39;,
    y = &#39;Percentage of patients&#39;,
    caption = paste(
      &#39;Odds ratio (95%CI) = &#39;, ft_res$or_ci, &#39;\n&#39;,
      &#39;P = one-sided Fisher test P value&#39;
      )
  )</code></pre>
<p><img src="figure/seer_brca_analysis.Rmd/mfs-tn-dist-survival_rate_at_3y-1.png" width="1500" style="display: block; margin: auto;" /></p>
<br>
<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-sessioninfo" data-toggle="collapse" data-target="#workflowr-sessioninfo" style="display: block;">
<span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
Session information
</button>
</p>
<div id="workflowr-sessioninfo" class="collapse">
<pre class="r"><code>sessionInfo()</code></pre>
<p>R version 4.2.2 (2022-10-31) Platform: x86_64-apple-darwin17.0
(64-bit) Running under: macOS Big Sur … 10.16</p>
<p>Matrix products: default BLAS:
/Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRblas.0.dylib
LAPACK:
/Library/Frameworks/R.framework/Versions/4.2/Resources/lib/libRlapack.dylib</p>
<p>locale: [1]
en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8</p>
<p>attached base packages: [1] stats graphics grDevices utils datasets
methods base</p>
<p>other attached packages: [1] cowplot_1.1.1 ggpubr_0.6.0
ggbeeswarm_0.7.2 ggsurvfit_0.3.1<br />
[5] survival_3.5-7 colorblindr_0.1.0 colorspace_2.1-1
janitor_2.2.0<br />
[9] arsenal_3.6.3 kableExtra_1.3.4 knitr_1.44 foreach_1.5.2<br />
[13] showtext_0.9-6 showtextdb_3.0 sysfonts_0.8.8 lubridate_1.9.3<br />
[17] forcats_1.0.0 stringr_1.5.1 dplyr_1.1.4 purrr_1.0.2<br />
[21] readr_2.1.4 tidyr_1.3.1 tibble_3.2.1 ggplot2_3.5.0<br />
[25] tidyverse_2.0.0 workflowr_1.7.1</p>
<p>loaded via a namespace (and not attached): [1] fs_1.6.4 bit64_4.0.5
webshot_0.5.5<br />
[4] httr_1.4.7 rprojroot_2.0.3 tools_4.2.2<br />
[7] backports_1.4.1 bslib_0.5.1 utf8_1.2.4<br />
[10] R6_2.5.1 vipor_0.4.5 ggdist_3.3.0<br />
[13] withr_3.0.1 tidyselect_1.2.1 processx_3.8.2<br />
[16] bit_4.0.5 compiler_4.2.2 git2r_0.32.0<br />
[19] cli_3.6.3 rvest_1.0.3 xml2_1.3.5<br />
[22] labeling_0.4.3 sass_0.4.7 scales_1.3.0<br />
[25] callr_3.7.3 systemfonts_1.1.0 digest_0.6.37<br />
[28] rmarkdown_2.25 svglite_2.1.2 pkgconfig_2.0.3<br />
[31] htmltools_0.5.6.1 highr_0.10 fastmap_1.1.1<br />
[34] rlang_1.1.4 rstudioapi_0.15.0 jquerylib_0.1.4<br />
[37] generics_0.1.3 farver_2.1.2 jsonlite_1.8.7<br />
[40] vroom_1.6.4 distributional_0.3.2 car_3.1-2<br />
[43] magrittr_2.0.3 Matrix_1.5-3 Rcpp_1.0.13<br />
[46] munsell_0.5.1 fansi_1.0.6 abind_1.4-5<br />
[49] lifecycle_1.0.4 stringi_1.8.4 whisker_0.4.1<br />
[52] yaml_2.3.7 snakecase_0.11.1 carData_3.0-5<br />
[55] grid_4.2.2 parallel_4.2.2 promises_1.2.1<br />
[58] crayon_1.5.2 lattice_0.20-45 splines_4.2.2<br />
[61] hms_1.1.3 ps_1.7.5 pillar_1.9.0<br />
[64] ggsignif_0.6.4 codetools_0.2-19 glue_1.8.0<br />
[67] evaluate_0.22 getPass_0.2-2 vctrs_0.6.5<br />
[70] tzdb_0.4.0 httpuv_1.6.8 gtable_0.3.5<br />
[73] cachem_1.0.8 xfun_0.40 broom_1.0.5<br />
[76] rstatix_0.7.2 later_1.3.1 viridisLite_0.4.2<br />
[79] iterators_1.0.14 beeswarm_0.4.0 timechange_0.2.0</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>


<!-- Adjust MathJax settings so that all math formulae are shown using
TeX fonts only; see
https://docs.mathjax.org/en/latest/web/configuration.html. This will make
the presentation more consistent at the cost of the webpage sometimes
taking slightly longer to load. Note that this only works because the
footer is added to webpages before the MathJax javascript. -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>




</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4,h5",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
